<html>
<head>
 <title>Emulated Super Diamond App</title>
</head>
<body>
<script id="emulatorjs">
   window.addEventListener("message", function (e) {
        if (e.origin !== "https://alexidians.github.io") {
            return
        }
        const url = e.data
        document.getElementById("appIframe").src = url
    })
</script>
<iframe width="100%" height="100%" id="appIframe"></iframe>
<script id="osjs">
    if(localStorage.getItem("clockSpeed") == null || localStorage.getItem("clockSpeed") == "") {
     localStorage.setItem("clockSpeed", 0)
    }
    startTime()

function setCookie(cname,cvalue,exdays) {
  const d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  let expires = "expires=" + d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

      function newIframeApp(url, title) {
       ErrorMessage("Super Diamond Emulator Does Not Support newIframeApp()")
       return "ERROR: Super Diamond App Emulator does not support newIframeApp()"
      }

      function newJSApp(code, title) {
       ErrorMessage("Super Diamond Emulator Does Not Support newJSApp()")
       return "ERROR: Super Diamond App Emulator does not support newJSApp()"
      }

      function newLuaApp(code, title) {
       ErrorMessage("Super Diamond Emulator Does Not Support newLuaApp()")
       return "ERROR: Super Diamond App Emulator does not support newLuaApp()"
      }

      function playSound(url) {
       var player = document.getElementById("audio")
       var playerSource = document.createElement("source")
       playerSource.src = url
       playerSource.type = "audio/" + url.split(".")[url.split(".").length]
       player.appendChild(playerSource)
       document.body.appendChild(player)
       player.play()
      }

      function setStartupProgram(appName) {
       localStorage.setItem("StartupProgram", appName)
       startupProgram = appName
      }

      function importJS(url, saveInDisc) {
       var script = document.createElement("script")
       script.src = url
       document.body.appendChild(script)
      }

      function importCss(url) {
       var stylesheet = document.createElement("link")
       stylesheet.src = url
       stylesheet.rel = "stylesheet/css"
       document.body.appendChild(stylesheet)
      }

      function importLua(url) {
       var script = document.createElement("script")
       script.src = url
       script.rel = "application/lua"
       document.body.appendChild(script)
      }

      function importPlugin(url,endpoint) {
       ErrorMessage("Super Diamond Emulator Does Not Support importPlugin()")
       return "ERROR: Super Diamond App Emulator does not support importPlugin()"
      }

    function OpenApp(AppName) {
     ErrorMessage("Super Diamond Emulator Does Not Support OpenApp()")
     return "ERROR: Super Diamond App Emulator does not support OpenApp()"
    }

    function ShutDownApp(AppId) {
     ErrorMessage("Super Diamond Emulator Does Not Support ShutDownApp()")
     return "ERROR: Super Diamond App Emulator does not support ShutDownApp()"
    }
     
    function ErrorMessage(message) {
     alert("Error Message: " + message)
    }

    function WarningMessage(message) {
     alert("Warning Message: " + message)
    }

    function OSMessage(message) {
     alert("OS Message: " + message)
    }
     
    function Open(url) {
     open(url)
    }
    
    function lock() {
     setCookie("loggedIn", "heIsnt", 1)
     if(prompt("Enter Password to Unlock Screen") == Password) {
      setCookie("loggedIn", "itis", 1)
      alert("Screen Unlocked Sucesfully")
     } else {
      alert("Incorrect Password")
      lock()
     }
    }
   
function startTime() {
  const today = new Date();
  let h = today.getHours();
  let m = today.getMinutes();
  let s = today.getSeconds();
  m = checkTime(m);
  s = checkTime(s);
  document.getElementById('timeText').innerHTML =  h + ":" + m + ":" + s;
  setTimeout(startTime, parseInt(localStorage.getItem("clockSpeed")));
}
           
function getTime() {
  const today = new Date();
  return today;
}

function checkTime(i) {
  if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
  return i;
}

function clock() {
 return document.getElementById("timeText").innerHTML;
}

function sendRequest(url, data) {
 var frame = document.createElement("iframe")
 frame.src = url
 frame.style.display = "none"
 document.body.appendChild(frame)
 const iframe = frame
 const wind = iframe.contentWindow
 wind.postMessage(data, "*")
}
</script>
<script>
var IP = localStorage.getItem("ip")
setInterval(eval, 0, "IP = localStorage.getItem('ip')")
</script>
<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>
<script src="https://alexidians.github.io/Super-Diamond-OS/super-diamond-os_web-client.js"></script>
<script src="https://unpkg.com/@ungap/custom-elements-builtin"></script>
<script type="module" src="https://unpkg.com/x-frame-bypass"></script>
<script src="https://alexidians.github.io/Super-Diamond-Programing-Language/programing-language.js"></script>
</body>
</html>
